# Сервис рассылки сообщений

## Установка и запуск

1. Установите зависимости из файла `pyproject.toml`, используя Poetry:
    ```bash
    poetry install
    ```
2.  Установите и запустите redis для кэширования данных
   ```bash
    sudo apt-get install redis
    sudo service redis-server start
   ```
3. Создайте базу данных postgresql, пропишите настройки подключения к ней, 
   настройки почтового сервера и кэширования в файле .env в корне проекта ([шаблон файла](.env.sample))


4. Примените миграции
   ``` bash
    python manage.py migrate
   ```

5. Создайте учетную запись администратора
   ``` bash
   python manage.py createsuperuser
   ```

6. Заполните данные из фикстур (groups - права доступа, users - пользователь с рассылками, 
mailings - сообщения, клиенты, рассылки, articles - статьи блога), используя данные фикстур:
   ``` bash
   python manage.py loaddata users/fixtures/groups.json
   python manage.py loaddata users/fixtures/users.json
   python manage.py loaddata mailing/fixtures/mailings.json
   python manage.py loaddata blog/fixtures/articles.json
   ```

7. Запустите сервер:
    ```bash
    python manage.py runserver
    ```
      
8. Перейдите по адресу сервера разработки [http://127.0.0.1:8000/](http://127.0.0.1:8000/)
  

9. Создайте двух пользователей используя регистрацию и в административной панели 
[http://127.0.0.1:8000/admin/users/user/](http://127.0.0.1:8000/admin/users/user/) 
под суперпользователем присвойте им права manager и content manager.


10. Далее можно использовать функционал сервиса, в том числе запускать команду рассылки 
    ```bash
    python manage.py send_mailing
    ```




> *Разработан сервис управления рассылками (сообщения, клиенты, рассылки с указанием периодичности отправки). \
> На отдельной странице отображается лог результатов рассылки. \
> Каждый пользователь сервиса может создавать свои сущности (сообщения, клиенты, рассылки). \
> Рассылки отправляются по указанным польжователем адресам. \ 
> Каждый пользователь может управлять только своими рассылками.
> Для пользователей создан функционал входа, регистрации и подтверждения почтового ящика. \ 
> Реализовано ограничение доступа к рассылкам для разных пользователей. \
> Реализован интерфейс менеджера с возможностью блокирования рассылок и пользователей. \
> Создан блог для продвижения сервиса, который ведет пользователь с правами контент менеджера. \
> На главную страницу выводится информация о рассылках, клиентах, 3 случайные статьи из блога. \
> Организовано кеширование отдельной статьи блога и 3-х статей на главной*

## Автор
Dmitry Skryabin <dimanskr2@gmail.com>